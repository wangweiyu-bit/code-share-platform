# ✅ 测试检查清单

## 启动前检查

- [ ] Node.js 已安装（v14 或更高版本）
  ```bash
  node --version
  ```

- [ ] npm 已安装
  ```bash
  npm --version
  ```

- [ ] 端口 3000 未被占用
  ```bash
  # Windows
  netstat -ano | findstr :3000
  ```

---

## 本地启动测试

### 1. 启动服务器

- [ ] 双击 `启动.bat`（Windows）或运行 `npm start`
- [ ] 看到 "服务器运行在 http://localhost:3000"
- [ ] 看到 "管理员账号: admin / admin123"
- [ ] 没有报错信息

### 2. 访问网站

- [ ] 打开浏览器
- [ ] 访问 http://localhost:3000/app.html
- [ ] 页面正常显示
- [ ] 没有控制台错误（按 F12 查看）

---

## 功能测试

### 管理员功能测试

#### 1. 管理员登录

- [ ] 点击"登录"
- [ ] 输入用户名：`admin`
- [ ] 输入密码：`admin123`
- [ ] 点击"登录"按钮
- [ ] 看到"登录成功"提示
- [ ] 页面显示"欢迎, 管理员"
- [ ] 导航栏显示"管理后台"链接

#### 2. 添加代码

- [ ] 点击"管理后台"
- [ ] 点击"代码管理"标签
- [ ] 点击"添加代码"按钮
- [ ] 输入代码标题：`测试代码`
- [ ] 输入代码描述：`这是一个测试`
- [ ] 输入代码内容：`console.log("test");`
- [ ] 输入编程语言：`JavaScript`
- [ ] 输入所需权限：`normal`
- [ ] 看到"添加成功"提示
- [ ] 代码列表中显示新添加的代码

#### 3. 查看代码列表

- [ ] 点击"代码中心"
- [ ] 看到刚才添加的代码
- [ ] 代码卡片显示标题、描述、语言
- [ ] 没有锁定图标（管理员是 svip）

#### 4. 删除代码

- [ ] 回到"管理后台" → "代码管理"
- [ ] 点击代码的"删除"按钮
- [ ] 确认删除
- [ ] 看到"删除成功"提示
- [ ] 代码从列表中消失

---

### 用户注册和审核测试

#### 5. 用户注册

- [ ] 点击"退出"（退出管理员账号）
- [ ] 点击"立即注册"
- [ ] 输入用户名：`testuser`
- [ ] 输入密码：`123456`
- [ ] 输入姓名：`测试用户`
- [ ] 输入手机号：`13800138000`
- [ ] 点击"注册"按钮
- [ ] 看到"注册成功！请等待管理员审核"提示
- [ ] 自动跳转到登录页

#### 6. 尝试登录（审核前）

- [ ] 输入用户名：`testuser`
- [ ] 输入密码：`123456`
- [ ] 点击"登录"
- [ ] 看到"账号待审核"提示
- [ ] 无法登录

#### 7. 管理员审核用户

- [ ] 用管理员账号登录（admin/admin123）
- [ ] 点击"管理后台"
- [ ] 点击"用户管理"标签
- [ ] 看到待审核用户 `testuser`
- [ ] 用户状态显示"待审核"
- [ ] 点击"通过"按钮
- [ ] 看到"审核成功"提示
- [ ] 用户状态变为"已通过"

#### 8. 用户登录（审核后）

- [ ] 点击"退出"
- [ ] 用 testuser/123456 登录
- [ ] 登录成功
- [ ] 页面显示"欢迎, 测试用户"
- [ ] 可以访问"代码中心"

---

### 下载限制测试

#### 9. 添加测试代码

- [ ] 用管理员账号登录
- [ ] 添加 3 个代码（权限都设为 normal）
  - 代码1：`测试代码1`
  - 代码2：`测试代码2`
  - 代码3：`测试代码3`

#### 10. 测试普通用户下载限制（1个文件）

- [ ] 用 testuser 登录（普通用户）
- [ ] 点击"代码中心"
- [ ] 点击"测试代码1"
- [ ] 看到下载信息：
  - 已下载文件：0 / 1
  - 剩余可下载：1
- [ ] 点击"复制到剪贴板"按钮
- [ ] 看到"下载成功"提示
- [ ] 剩余可下载变为：0

#### 11. 测试下载限制生效

- [ ] 返回代码列表
- [ ] 点击"测试代码2"
- [ ] 看到提示：
  - "下载次数已用完！"
  - "已下载：1个"
  - "最大限制：1个"
- [ ] 无法查看代码详情

#### 12. 测试重复下载

- [ ] 返回代码列表
- [ ] 点击"测试代码1"（已下载过的）
- [ ] 可以正常打开
- [ ] 看到提示："此文件已下载过，可重复下载"
- [ ] 点击"复制到剪贴板"
- [ ] 可以正常下载
- [ ] 不消耗下载次数

#### 13. 测试升级会员

- [ ] 用管理员账号登录
- [ ] 点击"管理后台" → "用户管理"
- [ ] 找到 testuser
- [ ] 点击"改权限"
- [ ] 输入：`vip`
- [ ] 看到"权限更新成功"
- [ ] 用户等级变为"会员"

#### 14. 测试会员下载限制（2个文件）

- [ ] 用 testuser 登录
- [ ] 点击"代码中心"
- [ ] 点击"测试代码2"
- [ ] 可以正常打开（因为升级为会员了）
- [ ] 看到：已下载文件：1 / 2
- [ ] 点击下载
- [ ] 下载成功
- [ ] 已下载文件：2 / 2

#### 15. 测试会员限制生效

- [ ] 点击"测试代码3"
- [ ] 看到"下载次数已用完！已下载：2个，最大限制：2个"
- [ ] 无法查看

#### 16. 测试超级会员（无限制）

- [ ] 用管理员账号登录
- [ ] 将 testuser 升级为 `svip`
- [ ] 用 testuser 登录
- [ ] 点击"测试代码3"
- [ ] 可以正常打开
- [ ] 看到：剩余可下载：不限
- [ ] 可以下载所有代码

---

## 界面测试

### 17. 响应式设计测试

- [ ] 按 F12 打开开发者工具
- [ ] 点击"切换设备工具栏"（手机图标）
- [ ] 选择不同设备：
  - [ ] iPhone SE（小屏手机）
  - [ ] iPad（平板）
  - [ ] 笔记本电脑
- [ ] 界面自适应正常
- [ ] 所有功能可用

### 18. 浏览器兼容性测试

- [ ] Chrome 浏览器测试
- [ ] Firefox 浏览器测试
- [ ] Edge 浏览器测试
- [ ] Safari 浏览器测试（Mac）

---

## 错误处理测试

### 19. 登录错误处理

- [ ] 输入错误的用户名
- [ ] 看到"用户不存在"提示
- [ ] 输入错误的密码
- [ ] 看到"密码错误"提示

### 20. 注册错误处理

- [ ] 尝试注册已存在的用户名
- [ ] 看到"用户名已存在"提示

### 21. 权限错误处理

- [ ] 用普通用户尝试访问管理后台
- [ ] 看到"需要管理员权限"提示
- [ ] 自动跳转到首页

---

## 性能测试

### 22. 加载速度测试

- [ ] 首次加载时间 < 2秒
- [ ] 页面切换流畅
- [ ] 无明显卡顿

### 23. 内存测试

- [ ] 打开开发者工具 → Performance
- [ ] 使用一段时间后
- [ ] 内存占用正常
- [ ] 无内存泄漏

---

## 部署测试（Vercel）

### 24. GitHub 上传

- [ ] 代码已上传到 GitHub
- [ ] 仓库可以访问
- [ ] 所有文件都在

### 25. Vercel 部署

- [ ] Vercel 账号已创建
- [ ] 项目已连接
- [ ] 部署成功
- [ ] 获得网址

### 26. 在线访问测试

- [ ] 访问 Vercel 网址
- [ ] 页面正常显示
- [ ] 所有功能正常
- [ ] 可以登录
- [ ] 可以注册
- [ ] 可以下载代码

---

## 文档检查

### 27. 文档完整性

- [ ] `立即使用指南.md` 存在
- [ ] `快速开始.md` 存在
- [ ] `快速参考卡.md` 存在
- [ ] `系统架构说明.md` 存在
- [ ] `测试检查清单.md` 存在（本文件）
- [ ] `启动.bat` 存在

### 28. 文档准确性

- [ ] 文档中的命令可以执行
- [ ] 文档中的步骤可以复现
- [ ] 文档中的截图/示例准确

---

## 安全检查

### 29. 基本安全

- [ ] 密码不在前端显示
- [ ] API 返回不包含敏感信息
- [ ] 控制台无敏感信息泄露

### 30. 权限检查

- [ ] 普通用户无法访问管理功能
- [ ] 未登录用户无法下载代码
- [ ] 权限等级正确限制

---

## 最终检查

### 31. 代码质量

- [ ] 无语法错误
- [ ] 无控制台警告
- [ ] 代码格式规范

### 32. 用户体验

- [ ] 界面美观
- [ ] 操作流畅
- [ ] 提示信息清晰
- [ ] 错误处理友好

### 33. 功能完整性

- [ ] 所有功能都能正常使用
- [ ] 没有遗漏的功能
- [ ] 没有明显的 bug

---

## 测试结果

### 通过标准

- ✅ 所有核心功能测试通过（1-16）
- ✅ 界面测试通过（17-18）
- ✅ 错误处理正常（19-21）
- ✅ 文档完整（27-28）

### 可选测试

- ⚠️ 性能测试（22-23）- 可选
- ⚠️ 部署测试（24-26）- 部署时测试
- ⚠️ 浏览器兼容性（18）- 可选

---

## 测试记录

**测试日期：** ___________

**测试人员：** ___________

**测试环境：**
- 操作系统：___________
- Node.js 版本：___________
- 浏览器：___________

**测试结果：**
- 通过项目：_____ / 33
- 失败项目：_____
- 跳过项目：_____

**问题记录：**
1. ___________
2. ___________
3. ___________

**总体评价：**
- [ ] ✅ 完全通过，可以使用
- [ ] ⚠️ 部分问题，需要修复
- [ ] ❌ 严重问题，不能使用

---

## 快速测试（5分钟版）

如果时间有限，至少测试以下核心功能：

1. [ ] 启动服务器
2. [ ] 管理员登录
3. [ ] 添加一个代码
4. [ ] 注册新用户
5. [ ] 审核用户
6. [ ] 用户登录
7. [ ] 下载代码
8. [ ] 测试下载限制

---

**建议：** 首次使用时完整测试一遍，后续可以使用快速测试！
